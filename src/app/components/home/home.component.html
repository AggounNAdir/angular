<div class="dashboard-container">

  <!-- Colonne principale (Stats, Graphiques, Actions, Alertes) -->
  <div class="main-content">
    
    <div class="stock-container">
      <h2>ğŸ“¦ Stock des Produits</h2>
      <table>
        <thead>
          <tr>
            <th>Produit</th>
            <th>UnitÃ©</th>
            <th>QuantitÃ© en Carton</th>
            <th>QuantitÃ© en Unite</th>
            <th>QuantitÃ© Min</th>
            <th>Alerte</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stoc of produits">
            <td>{{ stoc.nomProduit }}</td>
            <td>{{ stoc.facteurConversion }}</td>
            <td>{{ (stoc.stockActuel / stoc.facteurConversion) | number: '1.0-0' }}</td>

            <td>{{ stoc.stockActuel % stoc.facteurConversion }}</td>
            <td>{{ stoc.stockMin }}</td>
            <td>
              <span [ngClass]="{'alerte': stoc.stockActuel / stoc.facteurConversion <= stoc.stockMin}">
                {{ stoc.stockActuel / stoc.facteurConversion<= stoc.stockMin ? 'âš ï¸ Alerte Stock' : 'âœ… Stock Suffisant' }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    
    


    <!-- Actions Rapides -->
    <div class="quick-actions">
      <button (click)="navigateTo('/produits')">â• Ajouter un produit</button>
      <button (click)="navigateTo('/achats')">ğŸ“¥ Nouvelle achat</button>
      <button (click)="navigateTo('/ventes')">ğŸ“¤ Nouvelle vente</button>
     
    </div>

  </div>

  <!-- Section droite (CatÃ©gories & ParamÃ¨tres) -->
  <div class="side-section">
    
    <!-- Onglets -->
    <div class="tabs">
      <button (click)="setActiveTab('categories')" [class.active]="activeTab === 'categories'">ğŸ“‚ CatÃ©gories</button>
      <button (click)="setActiveTab('parametres')" [class.active]="activeTab === 'parametres'">âš™ï¸ ParamÃ¨tres</button>
    </div>

    <!-- Contenu de l'onglet CatÃ©gories -->
    <div *ngIf="activeTab === 'categories'">
      <h3>ğŸ“‚ Ajout atÃ©gories de Produits :</h3>

      <div class="category-form">
        <input type="text" [(ngModel)]="categoryName" placeholder="Nom de la catÃ©gorie">
        <textarea [(ngModel)]="categoryDescription" placeholder="Description de la catÃ©gorie"></textarea>
        <h3>ğŸ“‚ Listes catÃ©gories de Produits :</h3>
        <div class="category-buttons">
          <button (click)="addCategory()">Ajouter</button>
          <button (click)="updateCategory()">Modifier</button>
          <button (click)="deleteCategory()">Supprimer</button>
        </div>
      </div>

      <!-- Liste des catÃ©gories -->
      <div class="category-list">
        <div class="category-card" *ngFor="let cat of categories" (click)="selectCategory(cat)">
          <p>{{ cat.name }}</p>
        </div>
      </div>
    </div>

    <!-- Contenu de l'onglet ParamÃ¨tres -->
    <div *ngIf="activeTab === 'parametres'">
      <h3>âš™ï¸ ParamÃ¨tres</h3>
      <label>Dossier de travail :</label>
      <div class="folder-input">
        <input type="text" [(ngModel)]="saveFolderPath" placeholder="Chemin du dossier">
        <button (click)="selectFolder()">ğŸ“</button>
      </div>
      <div class="reset-container">
        <button class="reset-btn" (click)="resetDatabase()">ğŸ—‘ï¸ Vider la base de donnÃ©es</button>
        <p class="alert-message">âš ï¸ Attention : Ce bouton va effacer toutes les donnÃ©es !</p>
      </div>
    </div>
    

  </div>

</div>
